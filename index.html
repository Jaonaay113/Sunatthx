<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown à¸›à¸µà¹ƒà¸«à¸¡à¹ˆ</title>
  <link href="https://fonts.googleapis.com/css2?family=Kodchasan:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="countdown-page" id="countdownPage">
  <div class="countdown-wrapper">
    <h1 id="countdown"></h1>
    <p class="countdown-subtitle">ğŸŠ à¸™à¸±à¸šà¸–à¸­à¸¢à¸«à¸¥à¸±à¸‡à¸ªà¸¹à¹ˆà¸›à¸µà¹ƒà¸«à¸¡à¹ˆ ğŸŠ</p>
    <button class="next-page-button" id="nextPageButton" onclick="goToChat()" style="display: none;">
      à¹„à¸›à¸«à¸™à¹‰à¸²à¹à¸Šà¸— â†’
    </button>
    </div>
</div>

<script>
let countdownInterval;

function newYearCountdown() {
  const now = new Date();
  const year = now.getFullYear() + 1; // à¸›à¸µà¸–à¸±à¸”à¹„à¸›
  const newYear = new Date(`January 1, ${year} 00:00:00`);

  const diff = newYear - now;

  if (diff <= 0) {
    showNewYearMessage();
    return;
  }

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const minutes = Math.floor((diff / (1000 * 60)) % 60);
  const seconds = Math.floor((diff / 1000) % 60);

  document.getElementById("countdown").innerHTML =
    `${days} à¸§à¸±à¸™<br>${hours} à¸Šà¸¡. ${minutes} à¸™à¸²à¸—à¸µ ${seconds} à¸§à¸´`;
}

function showNewYearMessage() {
  document.getElementById("countdown").innerHTML = "ğŸ‰<br>à¸ªà¸§à¸±à¸ªà¸”à¸µà¸›à¸µà¹ƒà¸«à¸¡à¹ˆ!à¸‚à¸­à¹ƒà¸«à¹‰à¸›à¸µà¸™à¸µà¹‰à¸¡à¸²à¸¢à¸¡à¸µà¹à¸•à¹ˆà¹€à¸£à¸·à¹ˆà¸­à¸‡à¸”à¸µà¹†à¹€à¸‚à¹‰à¸²à¸¡à¸²à¹ƒà¸™à¸Šà¸µà¸§à¸´à¸•à¸™à¸°<br>ğŸ‰";
  document.getElementById("nextPageButton").style.display = "block";
  document.getElementById("testButton").style.display = "none";
  if (countdownInterval) {
    clearInterval(countdownInterval);
  }
}

function testCountdown() {
  // à¸«à¸¢à¸¸à¸” countdown à¹€à¸”à¸´à¸¡
  if (countdownInterval) {
    clearInterval(countdownInterval);
  }
  
  // à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸›à¸µà¹ƒà¸«à¸¡à¹ˆà¸—à¸±à¸™à¸—à¸µ
  showNewYearMessage();
}

function goToChat() {
  window.location.href = 'chat.html';
}

countdownInterval = setInterval(newYearCountdown, 1000);
newYearCountdown();
</script>

</body>
</html>